<p>Notas Recibidas</p>

<!--POPUP CONFIRMAR ELIMINACION DE NOTA-->
<confirm (cancelButtonClick)="closeModal()"
(eliminarButtonClick)="handleDeleteClick()"
[itemForDelete]="itemForDelete"
*ngIf="openDeletionPopup">
</confirm>

<!--ALERT SUCCESS-->
<app-success-alert class="alert" (cerrarButtonClick)="closeSuccessAlert()"
*ngIf="showDeletionSuccessAlert" [esDeletion]="showDeletionSuccessAlert">
</app-success-alert>

<!--ALERT ERROR-->
<app-error-alert class="alert" (cerrarButtonClick)="closeErrorAlert()"
*ngIf="showErrorAlert">
</app-error-alert>

<!-- ALERT NOTA LEIDA -->
<app-nota-leida-alert class="leidaAlert" (aceptarButtonClick)="closeLeidaAlert()"
*ngIf="showNotaLeidaAlert">
</app-nota-leida-alert>

<!-- POPUP LEER NOTA -->
<app-leer-nota-popup [nota]="notaALeerr" class="leerNotaPopup"
*ngIf="popupLeerNota" (cancelButtonClick)="closeLeer()">

</app-leer-nota-popup>

<main class="inner">
  <table class="table table-striped table-dark">
    <thead>
      <tr>
        <th scope="col">Titulo</th>
        <th scope="col">Fecha</th>
        <th scope="col">Emisor</th>
        <th scope="col">Referido</th>
        <th scope="col">Tipo</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tr *ngIf="message != ''" class="mensaje">{{message}}</tr>
    <tbody class="scroll" *ngFor="let nota of notas">
      <tr>
        <td>{{nota.titulo}}</td>
        <td>{{nota.fecha.substring(8,10)}}/{{nota.fecha.substring(5,7)}}/{{nota.fecha.substring(0,4)}} {{nota.fecha.substring(11,19)}}</td>
        <td>{{nota.emisor.email}}</td>
        <td *ngIf="nota.tipo == 2">{{nota.referido.apellido}}, {{nota.referido.nombre}}</td>
        <td *ngIf="nota.tipo == 1">No hay alumno referido</td>
        <td *ngIf="nota.tipo == 1">Generica</td>
        <td *ngIf="nota.tipo == 2">Particular</td>
        <td>
          <div class="divActionButtons">
            <button class="delete-button" title="Eliminar nota" (click)="openDeletion(nota.id)">
              <svg class="delete-svgIcon" viewBox="0 0 448 512">
                <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"></path>
              </svg>
            </button>
            <button class="btn eye leer-button" title="Leer nota" (click)="openLeer(nota)">
                <svg class="leer-svgIcon" viewBox="0 0 360 360">
                  <g fill="#000000FF" stroke="#000000FF">
                  <path d="M 123.901 1.075 C 82.423 4.508 45.846 26.370 22.406 61.738 C -6.458 105.291 -6.458 164.709 22.406 208.262 C 46.001 243.864 80.832 264.633 124.250 268.989 C 149.385 271.511 181.095 264.245 202.991 250.946 C 241.793 227.378 264.417 191.318 268.989 145.750 C 272.125 114.496 261.617 79.232 241.244 52.641 C 219.591 24.379 183.586 4.312 149.500 1.507 C 135.198 0.330 133.294 0.298 123.901 1.075 M 153.287 35.107 C 183.341 40.270 211.735 61.587 225.736 89.500 C 229.494 96.992 233.533 108.975 235.077 117.213 C 236.611 125.394 236.622 144.792 235.097 152.787 C 227.117 194.638 194.638 227.117 152.787 235.097 C 144.765 236.627 125.385 236.609 117.140 235.064 C 75.567 227.273 42.725 194.408 34.923 152.787 C 33.389 144.606 33.378 125.208 34.903 117.213 C 43.315 73.095 79.223 39.376 123.500 34.014 C 131.196 33.082 144.295 33.563 153.287 35.107 "/></g>
                  <g fill="#000000FF" stroke="#000000FF">
                  <path d="M 262.376 227.750 C 255.522 237.389 239.962 253.143 229.750 260.783 C 224.938 264.384 221.000 267.610 221.000 267.952 C 221.000 268.294 240.238 287.699 263.750 311.074 C 308.904 355.964 310.262 357.094 321.005 358.734 C 344.317 362.293 363.271 342.473 358.475 319.552 C 357.195 313.434 353.589 306.000 351.901 306.000 C 351.406 306.000 351.000 305.435 351.000 304.745 C 351.000 303.492 269.078 221.000 267.833 221.000 C 267.472 221.000 265.016 224.038 262.376 227.750 "/></g>
                  <g fill="#000000FF" stroke="#000000FF">
                  <path d="M 118.202 58.580 C 103.231 61.859 91.688 68.336 80.012 80.012 C 71.195 88.830 66.493 95.728 62.410 105.837 C 59.527 112.974 57.000 124.525 57.000 130.565 L 57.000 135.000 67.428 135.000 L 77.856 135.000 78.560 129.250 C 80.144 116.322 86.026 104.182 95.104 95.104 C 104.181 86.027 113.984 81.178 127.902 78.879 L 135.000 77.707 135.000 67.353 L 135.000 57.000 129.750 57.100 C 126.863 57.156 121.666 57.821 118.202 58.580 "/></g>
                  </svg>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <app-go-back-button class="goBackComp" (backButtonClick)="goBack()">
  </app-go-back-button>
</main>
