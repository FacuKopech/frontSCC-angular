<h1>Tomar Asistencia {{aula.nombre}}</h1>
<div class="divMessage">
  <p class="pMessage">{{message}}</p>
</div>
<div class="divFechaHoyContainer">
  <div class="divFechaHoy">
    <h3 class="pMessage">Fecha: {{fechaString.substring(9,11)}}/{{fechaString.substring(6,8)}}/{{fechaString.substring(1,5)}}</h3>
  </div>
</div>
<div class="divCargarAsistencia">
  <button class="buttonCargarAsistencia" (click)="openConfirmCargaAsistenciaPopup = true">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svgPersonIcon">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
    </svg>
    Cargar asistencia
  </button>
</div>

<div *ngIf="openDatosAusenciaPopup || openConfirmCargaAsistenciaPopup || openSuccessAlert || openErrorAlert" class="divCover"></div>

<app-datos-ausencia-popup *ngIf="openDatosAusenciaPopup"
  [ausencias]="ausencias"
  [idAlumno]="idAlumno"
  (cancelButtonClick)="openDatosAusenciaPopup = false">
</app-datos-ausencia-popup>

<app-confirm-carga-asistencia-alert *ngIf="openConfirmCargaAsistenciaPopup"
(cancelButtonClick)="openConfirmCargaAsistenciaPopup = false"
(cargarButtonClick)="cargarAsistencia()">
</app-confirm-carga-asistencia-alert>

<app-success-alert class="alert" *ngIf="openSuccessAlert"
(cerrarButtonClick)="closeSuccessPopup()"
[esCargaDeAsistencia]="esCargaDeAsistencia">
</app-success-alert>

<app-error-alert class="alert" (cerrarButtonClick)="showErrorAlert = false"
*ngIf="showErrorAlert">
</app-error-alert>

<div class="divTableHeaders">
  <label class="labelTitle" for="">Alumno/a</label>
  <label class="labelTitle" for="">Asistencia</label>
</div>
<div class="container" *ngFor="let alumno of alumnos">
  <div class="divData">
    <div class="divNombreAlumno">
      <label class="labelData" for="">{{alumno.apellido}}, {{alumno.nombre}}</label>
    </div>
    <div class="divAsistencia" *ngIf="tieneAusenciaEnEstaFecha(alumno.ausencias) == false">
      <div class="checkbox-wrapper-44">
        <label class="toggleButton">
          <input (click)="presenteChecked(alumno)" #inputCheckboxP type="checkbox">
          <div>
            <svg class="svgCheck" viewBox="0 0 44 44">
              <path transform="translate(-2.000000, -2.000000)" d="M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758"></path>
            </svg>
          </div>
        </label>
      </div>
    </div>
    <div class="divAusencia" *ngIf="tieneAusenciaEnEstaFecha(alumno.ausencias) == true">
      <button class="btnVer" (click)="verAusenciaAlumnoAusente(alumno.id, alumno.ausencias)">Ausencia</button>
    </div>
  </div>
  <hr class="lineSeparator">
</div>

<app-go-back-button class="goBackComp" (backButtonClick)="goBack()">
</app-go-back-button>
